Spring features
1)working with POJO - Plain old java object
2)Dependency Injection
3)MVC
4)REST
5)Security
6)Batch
7)Data
8)AOP
Spring framework helps us build enterprise java applications and spring boot helps us bootstrap the process of creating spring application.
Spring boot gives us a production ready application
when you want to deploy spring project without springboot, you have to have a server

    Dependency Injection
- What is dependency injection?
We generally create and work with objects and these objects, work with/ depends on other objects
so we need external services that will help us inject this required objects to where we need them
when we add @Component to a class, we automatically make it dependent, it can be accessed by another class
@Autowired : This is used to connect a class with another class
This entire concept is dependency injection.
Making your application loosely coupled
Dependency injection: This helps the developer focus on the logic and when he requires an object, it will make it available.
Bean: A bean is simply an object that Spring creates and manages for you and it is usually inside a spring container.
when you annotate a class with @Component,
spring automatically creates a single object of that class. and makes it available in the spring container
By default spring framework uses a design pattern called "singleton"
In singleton, you get only one instance of the object.
To change from single,
You will use an annotation called @Scope and chose the value you want .
when you use @Autowired,
spring will search for that particular class and connect with the class you want to use it in.
it default search is by type.
@Qualifier: This searches by name when using @Autowired
The default name of a class is small letter of the class name, and you can change the default name in the @Component annotation.

    Spring boot JDBC
JDBC means Java Database Connectivity.
JDBC is a Java technology that allows Java programs to talk to a database.
It is like a bridge between your Java code and your database.
Data source: gives your application connections to the database, has configurations and it helps us with something called connection pool.
JDBC Template
This helps with data source and helps write code in efficient way
How to use Spring boot jdbc
In your dependencies,
add jdbc api and a database(postgres or mySql)
then click generate and unzip
if you use a database,
we will configure the following in the application.properties
-spring.datasource.url
-spring.datasource.name
-spring.datasource.username
-spring.datasource.password
Repository: The Repository is responsible for connecting to the database.
We use @Repository annotation for repository class
we use jdbcTemplate in the repository

    How to create a Web Application using spring boot(MyWebApp)
Dependencies
-Spring Web
To get dependencies
-Go to https://mvnrepository.com and search for dependency.
application.properties: used to configure the springboot app
    How to separate the extension and location of a page
the path of a page is defined with prefix
and the extension is defined with suffix
    How to pass a data from the client side
1)in the url in the browser add "?name=whatever" e.g http://localhost:9090/home?name=stephen
2)if we want to pass name "stephen", we need to accept the name in the controller
3)we can accept it using HttpServletRequest req, now we have access to the name
4)you get the request from spring using req.getParameter("request name")
or
3)we can use @Requestparameter("parameter name")
4)This is very useful when you are passing in multiple parameters in the url
5)save the req name in an httpsession and use EL to get it in the jsp page
or
4)You can use modelAndView to accept the parameter from the client side
5)This is useful when the passed in paramters match with a class
Expression language(EL): is a simple, shortcut way to access data in JSP pages without writing Java code inside the JSP.
It allows you to access:
-Request attributes
-Session attributes
-Using a clean syntax like: ${...}
you can pass in multiple variables from the url and just save it in a single object when accessing them
video : https://www.youtube.com/watch?v=ja2IYFg-KOg&list=PLsyeobzWxl7oA8QOlMtQsRT_I7Rx2hoX4&index=12

    How to create a spring boot application using Spring data JPA and Spring MVC(bootJPA)
Go to "https://start.spring.io/"
Dependencies
-Spring Web
-Spring dataJPA
-H2(in memory database)
When working with jsp, you have to add the jasper dependency from "https://mvnrepository.com"
    How to enable h2 database
configure the application.properties with this
-spring.h2.console.enabled=true
-spring.datasource.platform=h2
-spring.datasource.url=jdbc:h2:mem:stephen
    How to access the h2 database on the browser
go to "localhost:8080/h2-console"
you will get a login page for the database, click on test connection if successful, click connect
    To add a table to the database,
-we have to enable jpa
-add @Entity to the class for the table and @Id
refresh and click connect, you will see the table in the h2 database.
"Select * from alien"
Create a data.sql file in resources folder
The Repository is responsible for add data to the database
All you need to do in the repository interface is to "extends CrudRepository<Alien, typeOfPrimaryId>"
You can also create your own method in the repository and spring will atomatically understand it.
    How to name a method in the respository
1)The method name should start with findBy/getBy and it should end with the name of a property inside the class we want to find in.
2)When working with JPA, you will be working with JPQL(you will write jpql queries)
    REST API
@ResponseBody : This says i am not returning a view, just return what is in the body.
The rest API returns json
We now use JpaRepository instead of CRUDrepository
JpaRepository has all CRUDrepository features plus extra features.
JpaRepository returns data in JSON format
    How to send a JSON
-We use postman
-You can specify the type of data you are sending and you want to receive in the header
in the key, we will choose Accept
and in the value, we will specify the data type
When we talk about web services, we have different formats which are
-JSON and XML
By default spring responds with JSON but we can specify the format
Content negotiation
When a client will specify the type of data e wants and the server will respond with the data or not.
How do we get the type of data we want from postman
1)We specify it in the header
key: Accept
value: application/xml
    How to add a support for xml in spring boot
-Go to the pom.xml
-Add a dependency for xml
-Go to "https://mvnrepository.com/"
-search for "Jackson Dataformat XML"
to know the version to work with, check your jasckson core version
-copy the dependency and paste on pom.xml
In your requestMapping, you set the path and specify the data type you want spring to return e.g
"@RequestMapping(path="/aliens", produces = {"application/xml"})"
When you use "@RequestMapping", by default it is a get request
But you can use ,
@GetMapping for get request
@PostMapping for post request
@PutMapping for put request
@DeleteMapping for delete request
We use @RestController annotation when building REST apis
When sending a raw data, we have to use @Requestbody annotation
You can also specify how to consume the data in a post request
e.g "@PostMapping(path ="/alien", consumes = {"application/json"})"

    How to create an application using spring data REST(springDataRest)
Since we are working with spring data rest, we dont need a controller
-Dependencies
database eg h2
JPA
REST repositories
-configure h2
spring.h2.console.enabled=true
spring.datasource.platform=h2
spring.datasource.url=jdbc:h2:mem:stephen
spring.jpa.hibernate.ddl-auto=create
spring.jpa.defer-datasource-initialization=true
-In the entity,
@GeneratedValue: auto generates values and auto increments them
-Since we are not using a controller, we will annotate the repository with this
"@RepositoryRestResource(collectionResourceRel = "aliens", path = "aliens")"
The annotaton takes two parameters
1)collectionResourceRel
2)path
Go to your postman to make a get request "http://localhost:9090/aliens"
You can do all other CRUD operation.

    How to create a quiz app using spring boot
Dependencies
-Spring Web
-Postgres database
-Spring data jpa
-Lombok(if you don't want to have bulky code)
The controller accepts request from a user and then the request goes to the service layer
The service layer does the processing i.e business logic but if you want to connect to the database, you have the Dao layer
The Dao(Repository) layer talks to the database
 User-> Controller layer-> Service layer-> Dao(Repository)layer
 Most of the times we have the same method names in the service layer and controller layer
in our @entity file if we name our variable "questionTitle" in the database, it till be "question_title"
@Data: This annotation is from lombok and it creates getters and setter for each of the variables in the class
Spring does not auto-create databases, only tables.
you manually create it in postgres
This link is used to check http responses type - "https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status"
ResponseEntity takes two parameters(The actual responses and the status code)
We can use the ResponseEntity in the controller or in the service layer
